{"ast":null,"code":"var _jsxFileName = \"/Users/syedshamaan/Desktop/fyp/budget-buddy/frontend/src/pages/home/GeminiAI.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport './home.css';\nimport dotenv from \"dotenv\";\nimport path from \"path\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndotenv.config({\n  path: \"../../../.env\"\n});\nconst GeminiAI = ({\n  transactions\n}) => {\n  _s();\n  const [recommendation, setRecommendation] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const textareaRef = useRef(null);\n  const geminiAPI = \"AIzaSyCduzVmY2zAB9yqOW1Yg-NY8pc67EVw558\";\n  const adjustTextareaHeight = () => {\n    const textarea = textareaRef.current;\n    textarea.style.height = \"auto\";\n    textarea.style.height = `${textarea.scrollHeight}px`;\n  };\n  useEffect(() => {\n    adjustTextareaHeight();\n  }, [recommendation]);\n  const getFinancialRecommendation = async () => {\n    setIsLoading(true);\n    const options = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        contents: [{\n          parts: [{\n            text: `Act as a financial advisor and provide recommendation and suggestion based on the following data: ${JSON.stringify(transactions)},\n                        response only in ENGLISH,\n                        analyze the data focusing on the amount, category, createdAt, title, and transactionType fields in each transaction.\n                        Summarize the data in 2-3 sentences (don't provide total income or total expenses), also don't use numerals in the response except while relating monthly incomes and expenses.\n                        Provide concise recommendations and suggestions based on this data, limited to 50 words or 2-3 sentences.\n                        Include a tip for increasing income and a tip for reducing expenses (excluding tips related to tracking expenses or using applications to track expenses or incomes).\n                        The response should be in key points.`\n          }]\n        }]\n      })\n    };\n    try {\n      const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${geminiAPI}`, options);\n      const data = await response.json();\n      console.log(process.env.GeminiAPI);\n      setRecommendation(data.candidates[0].content.parts[0].text);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: getFinancialRecommendation,\n      className: \"containerBtn\",\n      children: isLoading ? 'Recommending advice from the data...' : 'Get Financial Recommendation'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n        ref: textareaRef,\n        value: recommendation,\n        readOnly: true,\n        placeholder: \"Financial Recommendation\",\n        className: \"containerBtn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n};\n_s(GeminiAI, \"8gVPwI4pLonKJl9/KZmu3grvYl0=\");\n_c = GeminiAI;\nexport default GeminiAI;\nvar _c;\n$RefreshReg$(_c, \"GeminiAI\");","map":{"version":3,"names":["React","useState","useEffect","useRef","dotenv","path","jsxDEV","_jsxDEV","config","GeminiAI","transactions","_s","recommendation","setRecommendation","isLoading","setIsLoading","textareaRef","geminiAPI","adjustTextareaHeight","textarea","current","style","height","scrollHeight","getFinancialRecommendation","options","method","headers","body","JSON","stringify","contents","parts","text","response","fetch","data","json","console","log","process","env","GeminiAPI","candidates","content","error","children","onClick","className","fileName","_jsxFileName","lineNumber","columnNumber","ref","value","readOnly","placeholder","_c","$RefreshReg$"],"sources":["/Users/syedshamaan/Desktop/fyp/budget-buddy/frontend/src/pages/home/GeminiAI.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport './home.css';\nimport dotenv from \"dotenv\";\nimport path from \"path\";\n\ndotenv.config({ path: \"../../../.env\" });\n\nconst GeminiAI = ({ transactions }) => {\n    const [recommendation, setRecommendation] = useState(\"\");\n    const [isLoading, setIsLoading] = useState(false);\n    const textareaRef = useRef(null);\n    const geminiAPI = \"AIzaSyCduzVmY2zAB9yqOW1Yg-NY8pc67EVw558\";\n    \n    const adjustTextareaHeight = () => {\n        const textarea = textareaRef.current;\n        textarea.style.height = \"auto\";\n        textarea.style.height = `${textarea.scrollHeight}px`;\n    };\n    \n    useEffect(() => {\n        adjustTextareaHeight();\n    }, [recommendation]);\n    \n    const getFinancialRecommendation = async () => {\n        setIsLoading(true);\n        const options = {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                contents: [{\n                    parts: [{\n                        text: `Act as a financial advisor and provide recommendation and suggestion based on the following data: ${JSON.stringify(transactions)},\n                        response only in ENGLISH,\n                        analyze the data focusing on the amount, category, createdAt, title, and transactionType fields in each transaction.\n                        Summarize the data in 2-3 sentences (don't provide total income or total expenses), also don't use numerals in the response except while relating monthly incomes and expenses.\n                        Provide concise recommendations and suggestions based on this data, limited to 50 words or 2-3 sentences.\n                        Include a tip for increasing income and a tip for reducing expenses (excluding tips related to tracking expenses or using applications to track expenses or incomes).\n                        The response should be in key points.`\n                    }]\n                }]\n            })\n        };\n        \n        try {\n            const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${geminiAPI}`, options);\n            const data = await response.json();\n            console.log(process.env.GeminiAPI);\n            setRecommendation(data.candidates[0].content.parts[0].text);\n        } catch (error) {\n            console.log(error);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    return (\n        <div>\n            <button onClick={getFinancialRecommendation} className=\"containerBtn\">\n                {isLoading ? 'Recommending advice from the data...' : 'Get Financial Recommendation'}\n            </button>\n            <div>\n                <textarea\n                    ref={textareaRef}\n                    value={recommendation}\n                    readOnly\n                    placeholder=\"Financial Recommendation\"\n                    className=\"containerBtn\"\n                />\n            </div>\n        </div>\n    );\n};\n\nexport default GeminiAI;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}